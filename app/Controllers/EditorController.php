<?php

namespace App\Controllers;

use App\Controllers\BaseController;

class EditorController extends BaseController
{
    public function __construct()
    {
        
    }
    public function index()
    {
        return view("editor/dashboard");
    }

    public function send_email() {
        require("src/sendgrid-php/sendgrid-php.php");
        $message = '<table border="1" cellpadding=0 cellspacing=0 width="100%" role="grid" aria-describedby="rowtbl1_info" style="width: 100%;">
        <thead>
            <tr align="center" role="row"><th class="sorting_asc" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Selector: activate to sort column descending" style="width: 82px;">Selector</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="6:00: activate to sort column ascending" style="width: 35px;">6:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="7:00: activate to sort column ascending" style="width: 35px;">7:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="8:00: activate to sort column ascending" style="width: 35px;">8:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="9:00: activate to sort column ascending" style="width: 35px;">9:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="10:00: activate to sort column ascending" style="width: 43px;">10:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="11:00: activate to sort column ascending" style="width: 43px;">11:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="12:00: activate to sort column ascending" style="width: 43px;">12:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="13:00: activate to sort column ascending" style="width: 43px;">13:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="14:00: activate to sort column ascending" style="width: 43px;">14:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="15:00: activate to sort column ascending" style="width: 43px;">15:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="16:00: activate to sort column ascending" style="width: 43px;">16:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="17:00: activate to sort column ascending" style="width: 43px;">17:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="18:00: activate to sort column ascending" style="width: 43px;">18:00</th><th class="sorting" tabindex="0" aria-controls="rowtbl1" rowspan="1" colspan="1" aria-label="Total: activate to sort column ascending" style="width: 40px;">Total</th></tr>
         
        </thead>
        <tbody>
             
        <tr align="center" role="row" class="odd"><td class="sorting_1">ALEXISRF  </td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">6</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">6</td></tr><tr align="center" role="row" class="even"><td class="sorting_1">BRAYDEN   </td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">23</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">23</td></tr><tr align="center" role="row" class="odd"><td class="sorting_1">DRAMSEYRF </td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">1</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">1</td></tr><tr align="center" role="row" class="even"><td class="sorting_1">JEBRF     </td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">29</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">29</td></tr><tr align="center" role="row" class="odd"><td class="sorting_1">JOSHSRF   </td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">23</td><td class="num-count">51</td><td class="num-count">35</td><td class="num-count">46</td><td class="num-count">6</td><td class="num-count">51</td><td class="num-count">33</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">245</td></tr><tr align="center" role="row" class="even"><td class="sorting_1">MICHAELTRF</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">27</td><td class="num-count">14</td><td class="num-count">41</td><td class="num-count">34</td><td class="num-count">27</td><td class="num-count">30</td><td class="num-count">15</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">188</td></tr><tr align="center" role="row" class="odd"><td class="sorting_1">ROBRF     </td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">12</td><td class="num-count">40</td><td class="num-count">17</td><td class="num-count">29</td><td class="num-count">3</td><td class="num-count">43</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">144</td></tr><tr align="center" role="row" class="even"><td class="sorting_1">SETHRF    </td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">71</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">31</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">57</td><td class="num-count">29</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">188</td></tr><tr align="center" role="row" class="odd"><td class="sorting_1">STACYGRF  </td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">39</td><td class="num-count">50</td><td class="num-count">49</td><td class="num-count">29</td><td class="num-count">54</td><td class="num-count">65</td><td class="num-count">30</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count zerocount" style="background-color: red">0</td><td class="num-count">316</td></tr></tbody>
        <tfoot>
            <tr><th rowspan="1" colspan="1">Total</th><th class="num-count zerocount" rowspan="1" colspan="1">0</th><th class="num-count zerocount" rowspan="1" colspan="1">0</th><th class="num-count zerocount" rowspan="1" colspan="1">0</th><th class="num-count" rowspan="1" colspan="1">89</th><th class="num-count" rowspan="1" colspan="1">198</th><th class="num-count" rowspan="1" colspan="1">165</th><th class="num-count" rowspan="1" colspan="1">157</th><th class="num-count" rowspan="1" colspan="1">116</th><th class="num-count" rowspan="1" colspan="1">206</th><th class="num-count" rowspan="1" colspan="1">209</th><th class="num-count zerocount" rowspan="1" colspan="1">0</th><th class="num-count zerocount" rowspan="1" colspan="1">0</th><th class="num-count zerocount" rowspan="1" colspan="1">0</th><th class="num-count" rowspan="1" colspan="1">1140 
        </th></tr>
        </tfoot>
      </table>'; 
        $email = new \SendGrid\Mail\Mail(); 
        $email->setFrom('developer@seun.me', 'DAWSON KPI TOOL');
$email->setSubject("Dawson KPI Tool Dec 24, 11pm");
$email->addTo("seun.sodimu@gmail.com", "Seun Sodimu");
//$email->addContent("text/plain", "and easy to do anywhere, even with PHP");
$email->addContent(
    "text/html", $message
);
$sendgrid = new \SendGrid('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');
try {
    $response = $sendgrid->send($email);
    print $response->statusCode() . "\n";
    print_r($response->headers());
    print $response->body() . "\n";
} catch (Exception $e) {
    echo 'Caught exception: '. $e->getMessage() ."\n";
}
        
    }
}